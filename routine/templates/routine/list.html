{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'routine/css/list.css' %}" />
{% endblock %}

{% block content %}
<div class="routines-container">
    <div class="header-section">
        <h1>My Routines</h1>
        <a href="{% url 'routine:builder' %}" class="btn btn-primary new-routine-btn">
            <i class="fas fa-plus"></i> New Routine
        </a>
    </div>

    {% if routines %}
        <div class="routines-grid">
            {% for routine in routines %}
            <div class="routine-card">
                <div class="card-header">
                    <h3 class="routine-name">{{ routine.name }}</h3>
                    <span class="routine-time">
                        <i class="fas fa-clock"></i>
                        {{ routine.total_time }} min
                    </span>
                </div>
                
                <div class="card-body">
                    <div class="routine-stats">
                        <div class="stat-item">
                            <span class="stat-value">{{ routine.tasks.count }}</span>
                            <span class="stat-label">Tasks</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">{{ routine.total_time }}</span>
                            <span class="stat-label">Minutes</span>
                        </div>
                    </div>
                </div>
                
                <div class="card-actions">
                    <a href="{% url 'routine:timer' routine.id %}" 
                       class="btn btn-start" 
                       title="Start Routine">
                        <i class="fas fa-play"></i>
                        Start
                    </a>
                    <a href="{% url 'routine:detail' routine.id %}" 
                       class="btn btn-details" 
                       title="View Details">
                        <i class="fas fa-info-circle"></i>
                        Details
                    </a>
                    <a href="{% url 'routine:delete' routine.id %}" 
                       class="btn btn-delete" 
                       title="Delete Routine"
                       onclick="return confirm('Are you sure you want to delete this routine?')">
                        <i class="fas fa-trash"></i>
                        Delete
                    </a>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <div class="empty-icon">
                <i class="fas fa-clipboard-list"></i>
            </div>
            <h2>No Routines Yet</h2>
            <p>Create your first routine here.</p>
            <a href="{% url 'routine:builder' %}" class="btn btn-primary">
                <i class="fas fa-plus"></i> Create Your First Routine
            </a>
        </div>
    {% endif %}
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'routine/js/list.js' %}"></script>
{% endblock %}